<div class="card" id="c4">
  <h2>Connect Four (Contra o Computador)</h2>
  <canvas id="c4game" width="350" height="300" style="background:#2980b9; display:block; margin:20px auto; border-radius:20px;"></canvas>
  <p id="c4msg" style="text-align:center;font-size:1.2em;"></p>
  <button onclick="restartC4()" class="nav-btn" style="margin-top:10px;">Reiniciar</button>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const COLS = 7, ROWS = 6, SIZE = 42;
      let grid = Array.from({length:ROWS},()=>Array(COLS).fill(0));
      let turn = 1, winner = 0;
      const canvas = document.getElementById("c4game");
      const ctx = canvas.getContext("2d");
      function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        for(let r=0;r<ROWS;r++) {
          for(let c=0;c<COLS;c++) {
            ctx.beginPath();
            ctx.arc(c*SIZE+SIZE/2, r*SIZE+SIZE/2, 18, 0, 2*Math.PI);
            ctx.closePath();
            ctx.fillStyle = grid[r][c]===1 ? "#f39c12" : grid[r][c]===2 ? "#e74c3c" : "#ecf0f1";
            ctx.fill();
          }
        }
        document.getElementById("c4msg").textContent = winner ? 
          (winner===3 ? "Empate!" : `Vencedor: ${winner===1?"Jogador":"Computador"}`) : 
          `Vez de: ${turn===1?"Jogador":"Computador"}`;
      }
      function checkWin() {
        // Checa conjuntos de 4 em linha
        for(let r=0;r<ROWS;r++) for(let c=0;c<COLS;c++) {
          let player = grid[r][c];
          if(player && (
            c+3<COLS && player===grid[r][c+1]&&player===grid[r][c+2]&&player===grid[r][c+3] ||
            r+3<ROWS && player===grid[r+1][c]&&player===grid[r+2][c]&&player===grid[r+3][c] ||
            c+3<COLS && r+3<ROWS && player===grid[r+1][c+1]&&player===grid[r+2][c+2]&&player===grid[r+3][c+3] ||
            c-3>=0  && r+3<ROWS && player===grid[r+1][c-1]&&player===grid[r+2][c-2]&&player===grid[r+3][c-3]
          )) return player;
        }
        return grid.flat().every(v=>v) ? 3 : 0; // 3 representa empate
      }
      function playerMove(col) {
        if(winner || turn!==1) return;
        let row = -1;
        for(let r=ROWS-1;r>=0;r--) {
          if(!grid[r][col]) { row = r; break; }
        }
        if(row<0) return;
        grid[row][col] = 1;
        winner = checkWin();
        draw();
        if(!winner) {
          turn = 2;
          setTimeout(aiMove, 700); // tempo de "pensar" do computador
        }
      }
      function aiMove() {
        // Simples AI: joga na coluna que pode vencer, ou bloqueia vit贸ria do jogador, ou escolhe aleat贸rio
        // 1. Verifica jogada vencedora para si mesmo
        for(let c=0;c<COLS;c++) {
          let r=findRow(c);
          if(r!==-1){grid[r][c]=2; if(checkWin()===2){winner=2;draw();return;} grid[r][c]=0;}
        }
        // 2. Verifica se pode bloquear vit贸ria do jogador
        for(let c=0;c<COLS;c++) {
          let r=findRow(c);
          if(r!==-1){grid[r][c]=1; if(checkWin()===1){grid[r][c]=2;turn=1;draw();return;} grid[r][c]=0;}
        }
        // 3. Joga aleat贸rio
        let moveCols = [];
        for(let c=0;c<COLS;c++) {
          if(findRow(c)!==-1) moveCols.push(c);
        }
        if(moveCols.length) {
          let c = moveCols[Math.floor(Math.random()*moveCols.length)];
          let r=findRow(c);
          if(r!==-1){grid[r][c]=2;}
        }
        winner = checkWin();
        turn=1;
        draw();
      }
      function findRow(col){
        for(let r=ROWS-1;r>=0;r--){
          if(!grid[r][col]) return r;
        }
        return -1;
      }
      canvas.onclick = function(e) {
        if(winner || turn!==1) return;
        const x = Math.floor(e.offsetX/SIZE);
        if(x<0||x>=COLS) return;
        playerMove(x);
      };
      window.restartC4 = function() {
        grid = Array.from({length:ROWS},()=>Array(COLS).fill(0));
        turn = 1; winner = 0; draw();
      };
      draw();
    });
  </script>
</div>  <button onclick="restartTicTacToe()" class="nav-btn" style="margin-top:10px;">Reiniciar</button>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      let board = ["","","","","","","","",""];
      let current = "X";
      let winner = null;
      const victory = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
      ];
      function updateBoard() {
        for(let i=0;i<9;i++) {
          const cell = document.getElementById("c" + i);
          cell.textContent = board[i];
          cell.style.width = cell.style.height = "64px";
          cell.style.fontSize = "2.4rem";
          cell.style.textAlign = "center";
          cell.style.border = "2px solid #555";
          cell.style.cursor = winner ? "default" : "pointer";
          cell.style.background = board[i] ? "#ffd6e0" : "#fff";
        }
        const msg = document.getElementById("ticmsg");
        msg.textContent = winner ? (winner==="E" ? "Empate!" : "Vencedor: " + winner) : "Vez de: " + current;
      }
      function checkWin() {
        for(let comb of victory) {
          let [a,b,c] = comb;
          if(board[a] && board[a]==board[b] && board[a]==board[c]) return board[a];
        }
        return board.includes("") ? null : "E";
      }
      function clickCell(i) {
        if(board[i] || winner) return;
        board[i] = current;
        winner = checkWin();
        if(!winner) current = current=="X" ? "O" : "X";
        updateBoard();
      }
      for(let i=0;i<9;i++)
        document.getElementById("c"+i).onclick = ()=>clickCell(i);
      updateBoard();
      window.restartTicTacToe = function() {
        board = ["","","","","","","","",""];
        current = "X";
        winner = null;
        updateBoard();
      }
    });
  </script>
</div>h1 style="color:white;text-align:center;">PONG Arcade</h1>
<canvas id="pong" width="600" height="400" style="background:#000; border:3px solid #fff; display:block; margin:40px auto;"></canvas>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const canvas = document.getElementById('pong');
    const ctx = canvas.getContext('2d');
    const paddleHeight = 80, paddleWidth = 10;
    const player = { x: 10, y: canvas.height/2 - paddleHeight/2, dy: 0 };
    const ai = { x: canvas.width - paddleWidth - 10, y: canvas.height/2 - paddleHeight/2, dy: 0 };
    const ball = { x: canvas.width/2, y: canvas.height/2, radius: 7, dx: 4, dy: 4 };
    let playerScore = 0, aiScore = 0;
    function drawRect(x, y, w, h, color) { ctx.fillStyle = color; ctx.fillRect(x, y, w, h);}
    function drawCircle(x, y, r, color) { ctx.fillStyle = color; ctx.beginPath(); ctx.arc(x, y, r, 0, Math.PI*2); ctx.closePath(); ctx.fill(); }
    function drawText(text, x, y, color) { ctx.fillStyle = color; ctx.font = '32px Arial'; ctx.fillText(text, x, y);}
    function resetBall() { ball.x = canvas.width / 2; ball.y = canvas.height / 2; ball.dx = (Math.random() > 0.5 ? 4 : -4); ball.dy = (Math.random() > 0.5 ? 4 : -4);}
    function movePaddles() {
      player.y += player.dy;
      if (player.y < 0) player.y = 0;
      if (player.y + paddleHeight > canvas.height) player.y = canvas.height - paddleHeight;
      if (ball.y < ai.y + paddleHeight/2) ai.y -= 4;
      else if (ball.y > ai.y + paddleHeight/2) ai.y += 4;
      if (ai.y < 0) ai.y = 0;
      if (ai.y + paddleHeight > canvas.height) ai.y = canvas.height - paddleHeight;
    }
    function moveBall() {
      ball.x += ball.dx; ball.y += ball.dy;
      if (ball.y - ball.radius < 0 || ball.y + ball.radius > canvas.height) { ball.dy *= -1;}
      let paddle = (ball.x < canvas.width/2) ? player : ai;
      if (ball.x - ball.radius < paddle.x + paddleWidth && ball.x + ball.radius > paddle.x && ball.y + ball.radius > paddle.y && ball.y - ball.radius < paddle.y + paddleHeight) { ball.dx *= -1.05; ball.dy += (Math.random()-0.5)*2;}
      if (ball.x - ball.radius < 0) { aiScore++; resetBall();}
      if (ball.x + ball.radius > canvas.width) { playerScore++; resetBall();}
    }
    function draw() {
      drawRect(0, 0, canvas.width, canvas.height, "#000");
      drawRect(player.x, player.y, paddleWidth, paddleHeight, "#fff");
      drawRect(ai.x, ai.y, paddleWidth, paddleHeight, "#fff");
      drawCircle(ball.x, ball.y, ball.radius, "#fff");
      drawText(playerScore, canvas.width/4, 50, "#fff");
      drawText(aiScore, 3*canvas.width/4, 50, "#fff");
    }
    function loop() { movePaddles(); moveBall(); draw(); requestAnimationFrame(loop);}
    document.addEventListener('keydown', function(e) { if (e.key === 'ArrowUp') player.dy = -6; else if (e.key === 'ArrowDown') player.dy = 6; });
    document.addEventListener('keyup', function(e) { if (e.key === 'ArrowUp' || e.key === 'ArrowDown') player.dy = 0;});
    resetBall(); loop();
  });
</script>
