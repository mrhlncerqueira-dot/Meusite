<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Meus Jogos ‚Äî Clean</title>

  <style>
    :root{
      --card-bg: #fff;
      --accent: #3f7bff;
      --page-pad: 28px;
      --page-max: 1200px;
      --card-w: 360px;
    }
    /* Page */
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: linear-gradient(120deg,#e9f0ff,#f8fafc);
      color:#17202a;
      padding:var(--page-pad);
    }
    h1{ text-align:center; margin:0 0 18px; }

    /* Row / Cards (preset 2 - equilibrado) */
    .games-row {
      display:flex;
      gap:20px;
      justify-content:center;
      align-items:stretch;
      flex-wrap:wrap;
      max-width:var(--page-max);
      margin:0 auto;
    }
    .game-card {
      flex: 0 0 var(--card-w);
      width: var(--card-w);
      min-height: 480px;
      display:flex;
      flex-direction:column;
      background:var(--card-bg);
      border-radius:12px;
      box-shadow: 0 12px 36px rgba(16,24,40,0.06);
      overflow:hidden;
    }
    .game-card > h2 {
      margin:12px 8px;
      font-size:1.05rem;
      text-align:center;
      flex:0 0 auto;
    }
    .game-card__body {
      flex:1 1 auto;
      display:flex;
      flex-direction:column;
      gap:8px;
      padding:12px;
      box-sizing:border-box;
    }

    /* game-inner limita conte√∫do (canvas/boards) */
    .game-inner {
      flex:1 1 auto;
      width:100%;
      max-height:360px;
      min-height:180px;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:6px;
      box-sizing:border-box;
    }
    .game-inner canvas,
    .game-inner img,
    .game-inner .board {
      max-width:100%;
      max-height:100%;
      width:auto !important;
      height:auto !important;
      display:block;
      object-fit:contain;
    }

    /* Controls */
    .controls { display:flex; gap:8px; justify-content:center; margin-top:12px; }
    .btn { background:var(--accent); color:#fff; border:0; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:700; }
    .btn:disabled { opacity:.6; cursor:default; }

    /* Memory cards */
    .cell{
      border-radius:8px;
      background:#56606a;
      color:transparent;
      border:0;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:transform .18s, background .18s, color .18s;
      box-shadow: 0 6px 14px rgba(10,20,40,0.05);
    }
    .cell.open{ background:#fff; color:#111; transform:scale(1.04) }
    .cell.matched{ background:#dff7e7; color:#0b5132; cursor:default }

    /* Small screens */
    @media (max-width:880px){
      .games-row { gap:14px; }
      .game-card { flex:1 1 92%; width:auto; min-height:auto; }
      .game-inner { max-height:420px; }
    }
  </style>
</head>
<body>
  <h1>Meus Jogos</h1>

  <div class="games-row">

    <!-- TETRIS CARD -->
    <div class="game-card" id="tetris-card">
      <h2>Tetris (exemplo responsivo)</h2>
      <div class="game-card__body">
        <div style="display:flex;gap:12px;justify-content:center;font-weight:700">
          <div>Pontos: <span id="tetris-score">0</span></div>
          <div>N√≠vel: <span id="tetris-level">1</span></div>
        </div>

        <div class="game-inner">
          <!-- canvas sem width/height fixos: helper redimensiona -->
          <canvas id="tetrisgame" data-cols="10" data-rows="20"
                  style="width:100%; height:100%; display:block; border-radius:10px; background:#111;"></canvas>
        </div>

        <div class="controls" style="margin-top:auto">
          <button id="tetris-restart" class="btn">Reiniciar</button>
          <button id="tetris-pause" class="btn">Pausar</button>
        </div>
      </div>
    </div>

    <!-- MEMORY CARD -->
    <div class="game-card" id="mem-card">
      <h2>Memory ‚Äî N√≠veis Din√¢micos</h2>
      <div class="game-card__body">
        <div style="display:flex;gap:12px;justify-content:center;font-weight:700">
          <div>N√≠vel: <span id="mem-lvl">1</span></div>
          <div>Movimentos: <span id="mem-moves">0</span></div>
          <div>Pontua√ß√£o: <span id="mem-score">0</span></div>
        </div>

        <div class="game-inner">
          <div id="mem-board" aria-live="polite" style="margin-top:10px"></div>
        </div>

        <div class="controls" style="margin-top:auto">
          <button id="mem-restart" class="btn">Reiniciar</button>
          <button id="mem-next" class="btn" disabled>Pr√≥ximo N√≠vel</button>
        </div>
      </div>
    </div>

    <!-- PLACEHOLDER CARD -->
    <div class="game-card" id="placeholder-card">
      <h2>Outro Jogo</h2>
      <div class="game-card__body">
        <div class="game-inner" style="color:#425066;text-align:center;padding:12px">
          <div>
            <p style="margin:0 0 8px">Substitua este bloco pelo teu jogo.</p>
            <button class="btn" onclick="alert('Cole o teu jogo aqui')">Inserir Jogo</button>
          </div>
        </div>

        <div class="controls" style="margin-top:auto">
          <button class="btn" onclick="alert('Sem a√ß√£o')">A√ß√£o</button>
        </div>
      </div>
    </div>

  </div>

  <!-- SCRIPTS: TETRIS HELPER + MEMORY -->
  <script>
  /* ---------------- TETRIS: helper responsivo (fit + DPR) ---------------- */
  (function(){
    const canvas = document.getElementById('tetrisgame');
    if(!canvas) return;
    const ctx = canvas.getContext('2d');
    const COLS = parseInt(canvas.dataset.cols,10) || 10;
    const ROWS = parseInt(canvas.dataset.rows,10) || 20;

    function fitCanvasToContainer() {
      const dpr = window.devicePixelRatio || 1;
      const wrapper = canvas.closest('.game-inner') || canvas.parentElement || document.body;
      const rect = wrapper.getBoundingClientRect();
      const displayW = Math.max(40, Math.floor(rect.width));
      const displayH = Math.max(40, Math.floor(rect.height));
      canvas.style.width = displayW + 'px';
      canvas.style.height = displayH + 'px';
      const resW = Math.floor(displayW * dpr);
      const resH = Math.floor(displayH * dpr);
      if (canvas.width !== resW || canvas.height !== resH) {
        canvas.width = resW;
        canvas.height = resH;
        ctx.setTransform(dpr,0,0,dpr,0,0);
        return true;
      }
      return false;
    }
    function computeCellSize() {
      const cssW = canvas.clientWidth, cssH = canvas.clientHeight;
      const cellW = Math.floor(cssW / COLS), cellH = Math.floor(cssH / ROWS);
      return Math.max(4, Math.min(cellW, cellH));
    }
    function computeOffsets(cell) {
      const cssW = canvas.clientWidth, cssH = canvas.clientHeight;
      const gridW = cell * COLS, gridH = cell * ROWS;
      return { offsetX: Math.floor((cssW - gridW)/2), offsetY: Math.floor((cssH - gridH)/2) };
    }

    // Expor helper para o jogo (se quiseres integrar o teu loop)
    window.tetrisCanvasHelper = { canvas, ctx, COLS, ROWS, fitCanvasToContainer, computeCellSize, computeOffsets };

    // exemplo de desenho simples (fallback). Substitui pela tua l√≥gica.
    function redrawExample(){
      const cell = computeCellSize();
      const { offsetX, offsetY } = computeOffsets(cell);
      // fundo
      ctx.fillStyle = '#0b0b0b';
      ctx.fillRect(0,0,canvas.clientWidth,canvas.clientHeight);
      // grid de c√©lulas vazias
      for(let r=0;r<ROWS;r++){
        for(let c=0;c<COLS;c++){
          const x = offsetX + c*cell, y = offsetY + r*cell;
          ctx.fillStyle = '#222';
          ctx.fillRect(x + 2, y + 2, cell - 4, cell - 4);
          ctx.strokeStyle = 'rgba(255,255,255,0.03)';
          ctx.strokeRect(x + 2.5, y + 2.5, cell - 5, cell - 5);
        }
      }
      // bloco de exemplo
      ctx.fillStyle = '#ff6b6b';
      ctx.fillRect(offsetX + 4*cell + 2, offsetY + 0*cell + 2, cell - 4, cell - 4);
    }

    // resize handler (debounced) e init
    let resizeTimer;
    function onResize(){
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(()=>{
        fitCanvasToContainer();
        // se tens um loop, chama a tua fun√ß√£o de redraw a√≠; caso contr√°rio usamos o exemplo
        if (typeof window.tetrisDraw === 'function') {
          try { window.tetrisDraw(ctx, window.tetrisCanvasHelper); }
          catch(e){ console.error('tetrisDraw error', e); redrawExample(); }
        } else {
          redrawExample();
        }
      }, 80);
    }
    window.addEventListener('resize', onResize);
    window.addEventListener('load', () => { fitCanvasToContainer(); onResize(); });
    setTimeout(()=>{ fitCanvasToContainer(); onResize(); }, 200);

    // bot√µes (liga√ß√£o simples)
    const btnRestart = document.getElementById('tetris-restart');
    const btnPause = document.getElementById('tetris-pause');
    if(btnRestart) btnRestart.addEventListener('click', ()=>{ if(typeof window.tetrisRestart === 'function') window.tetrisRestart(); fitCanvasToContainer(); onResize(); });
    if(btnPause) btnPause.addEventListener('click', ()=>{ if(typeof window.tetrisTogglePause === 'function') window.tetrisTogglePause(); });
  })();
  </script>

  <script>
  /* ---------------- MEMORY: n√≠veis din√¢micos (compacto) ---------------- */
  (function(){
    const SYMBOLS = ['üçé','üçã','üçá','üçì','üçâ','üçí','üçä','ü•ù','üçç','ü•ë','üçë','üçå','üçê','üçà','ü••','üçè','üåΩ','ü•ï','ü•î','üå∂Ô∏è'];
    const BASE = [{r:2,c:2},{r:2,c:3},{r:3,c:4},{r:4,c:4},{r:4,c:5}];
    const MAX_SIZE = 8;
    function getLevelSpec(i){
      if(i < BASE.length) return normalize(BASE[i]);
      const extra = i - BASE.length;
      const incRows = Math.floor(extra/2);
      const incCols = extra % 2;
      let r = 4 + incRows, c = 5 + incCols + Math.floor(extra/4);
      r = Math.min(r, MAX_SIZE); c = Math.min(c, MAX_SIZE);
      return normalize({r,c});
    }
    function normalize(spec){
      let {r,c} = spec;
      if((r*c)%2!==0){ if(c<MAX_SIZE) c++; else if(r<MAX_SIZE) r++; else c++; }
      return {r,c};
    }
    function isMaxLevel(index){ const s=getLevelSpec(index); return s.r>=MAX_SIZE && s.c>=MAX_SIZE; }

    // state
    let level = 0, rows=4, cols=4, board=[], first=null, second=null, lock=false, moves=0, score=0, matches=0;
    const boardEl = document.getElementById('mem-board');
    const movesEl = document.getElementById('mem-moves');
    const scoreEl = document.getElementById('mem-score');
    const lvlEl = document.getElementById('mem-lvl');
    const restartBtn = document.getElementById('mem-restart');
    const nextBtn = document.getElementById('mem-next');

    function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]] } return a; }
    function getCellSize(){ if(window.innerWidth < 420) return 46; if(window.innerWidth < 520) return 54; return 64; }

    function build(){
      const spec = getLevelSpec(level);
      rows = spec.r; cols = spec.c;
      const pairs = (rows*cols)/2;
      const pool = SYMBOLS.slice(0);
      shuffle(pool);
      const chosen = pool.slice(0,pairs);
      const symbols = shuffle([...chosen, ...chosen]);
      board = symbols.map((s,i)=>({id:i,symbol:s,matched:false}));

      const cellSize = getCellSize();
      boardEl.style.gridTemplateColumns = `repeat(${cols}, ${cellSize}px)`;
      boardEl.style.width = 'max-content';
      boardEl.style.margin = '0 auto';
      boardEl.style.gap = '8px';

      boardEl.innerHTML = '';
      board.forEach(card=>{
        const btn = document.createElement('button');
        btn.className = 'cell';
        btn.dataset.id = card.id;
        btn.style.width = cellSize + 'px';
        btn.style.height = cellSize + 'px';
        btn.style.fontSize = Math.max(16, Math.round(cellSize * 0.45)) + 'px';
        btn.innerHTML = '<span aria-hidden="true"></span>';
        btn.addEventListener('click', onClick);
        boardEl.appendChild(btn);
      });

      first = second = null; lock = false; moves = 0; score = 0; matches = 0;
      movesEl.textContent = moves; scoreEl.textContent = score; lvlEl.textContent = level + 1;
      nextBtn.disabled = true;
    }

    function openCard(el,card){ el.classList.add('open'); el.querySelector('span').textContent = card.symbol; }
    function closeCard(el){ el.classList.remove('open'); el.querySelector('span').textContent = ''; }
    function onClick(e){
      if(lock) return;
      const el = e.currentTarget;
      const id = +el.dataset.id;
      const card = board[id];
      if(card.matched) return;
      if(first && first.id === id) return;
      openCard(el,card);
      if(!first){ first = {id,el,card}; return; }
      second = {id,el,card};
      moves++; movesEl.textContent = moves; lock = true;
      if(first.card.symbol === second.card.symbol){
        setTimeout(()=>{
          first.card.matched = second.card.matched = true;
          first.el.classList.add('matched');
          second.el.classList.add('matched');
          matches++; score += 10; scoreEl.textContent = score;
          first = second = null; lock = false; checkWin();
        }, 350);
      } else {
        setTimeout(()=>{
          closeCard(first.el); closeCard(second.el);
          score = Math.max(0, score - 1); scoreEl.textContent = score;
          first = second = null; lock = false;
        }, 700);
      }
    }
    function checkWin(){
      const totalPairs = (rows*cols)/2;
      if(matches === totalPairs){
        nextBtn.disabled = isMaxLevel(level);
        if(!nextBtn.disabled) nextBtn.focus();
      }
    }
    restartBtn.addEventListener('click', build);
    nextBtn.addEventListener('click', ()=>{ if(level < 999){ level++; build(); } });
    let resizeTimer;
    window.addEventListener('resize', ()=>{ clearTimeout(resizeTimer); resizeTimer = setTimeout(build, 180); });
    build();
  })();
  </script>

  <!-- Optional: small note / safety -->
  <!-- Se tiveres um Tetris JS separado, substitui a fun√ß√£o window.tetrisDraw(ctx, helper) pela tua rotina de desenho,
       e chama window.tetrisCanvasHelper.fitCanvasToContainer() no init/resize do teu jogo. -->

</body>
</html>
